---
import Layout from "../../layouts/Layout.astro";
import PageLayout from "../../layouts/PageLayout.astro";
import {getAllProjects} from "../../sanity/api";
type Projects = {
  slug: any;
};

export async function getStaticPaths() {
  const allProjects = await getAllProjects();

  return allProjects.map((project: Projects) => ({
    params: {slug: project.slug.current},
    props: {project},
  }));
}

const {project} = Astro.props;
---

<Layout title={`${project.title} | Badger3000`}>
  <PageLayout pageTitle={project.title} />
  {project}
</Layout>
