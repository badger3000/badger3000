---
import { Picture } from '@astrojs/image/components'
---

<nav>
  <Picture
    src={import('../assets/avatar.png')}
    widths={[70, 85]}
    aspectRatio="1:1"
    sizes="(max-width: 1139px) 70px, 70px (min-width: 1140px) 85px, 85px"
    alt="avatar"
    class="avatar mb-[27px] rounded-full border-8 border-[#242F40] transition-all duration-500 ease-in-out"
  />

  <ul
    class="absolute z-10 hidden min-h-screen w-full overflow-hidden bg-zinc-900 pt-[20%] text-center transition-all lg:relative lg:block lg:min-h-full lg:bg-transparent lg:text-left"
  >
    <li class="nav-item mb-6">
      <a href="/" class="nav-link active"
        ><i class="fa-solid fa-user nav-icon mr-[10px]"></i>About</a
      >
    </li>
    <li class="nav-item mb-6">
      <a href="/contact" class="nav-link"
        ><i class="fa-solid fa-envelope mr-[10px]"></i>Contact</a
      >
    </li>
    <li class="nav-item mb-6">
      <a href="https://github.com/badger3000" class="nav-link">
        <i class="fa-brands fa-github mr-[10px]"></i>GitHub</a
      >
    </li>
    <li class="nav-item mb-6">
      <a href="https://www.linkedin.com/in/badger816/" class="nav-link"
        ><i class="fa-brands fa-linkedin mr-[10px]"></i>LinkedIn</a
      >
    </li>
  </ul>
  <button class="button group">
    <div
      class="relative flex h-[50px] w-[50px] transform items-center justify-center overflow-hidden transition-all duration-200"
    >
      <div
        class="flex h-[20px] w-[20px] origin-center transform flex-col justify-between overflow-hidden transition-all duration-300"
      >
        <div class="top-bar"></div>
        <div class="middle-bar"></div>
        <div class="bottom-bar"></div>
      </div>
    </div></button
  >
</nav>

<style>
  nav {
    @apply mb-4 flex h-[90px] flex-row justify-between px-[0] py-[10px] text-white lg:h-max lg:flex-col lg:items-center lg:px-[20px] lg:py-[24px];
  }
  .nav-link {
    @apply block align-middle text-lg transition-all duration-1000 ease-in-out after:mt-[3px] after:block after:h-[2px] after:w-0 after:bg-white after:transition-all after:duration-300 after:ease-in-out hover:after:w-full;
  }
  .nav-link.active {
    @apply after:w-full;
  }
  .button {
    @apply relative z-20 block lg:hidden;
  }
  .top-bar {
    @apply h-[2px] w-7 origin-left transform bg-white transition-all duration-300;
  }
  .top-bar.animate {
    @apply group-focus:rotate-[42deg];
  }
  .middle-bar {
    @apply h-[2px] w-1/2 transform rounded bg-white transition-all duration-300;
  }
  .middle-bar.animate {
    @apply group-focus:-translate-x-10;
  }
  .bottom-bar {
    @apply h-[2px] w-7 origin-left transform bg-white transition-all duration-300;
  }
  .bottom-bar.animate {
    @apply group-focus:-rotate-[42deg];
  }
</style>
<script is:inline>
  //hamburger menu toggle
  document.querySelector('button').addEventListener('click', () => {
    //hide show navigation on mobile
    document.querySelector('ul').classList.toggle('hidden')
    //animate hamburger menu
    const bars = document.querySelectorAll('.top-bar, .middle-bar, .bottom-bar')
    bars.forEach((bar) => {
      bar.classList.toggle('animate')
    })
  })
</script>
